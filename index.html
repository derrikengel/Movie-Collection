<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Engel Movie Collection</title>
	<link rel="apple-touch-icon" href="assets/favicon-228.png">
	<link rel="icon" type="image/png" href="assets/favicon-228.png">
	<link rel="shortcut icon" href="/path/to/favicon-228.png">
	<meta name="msapplication-TileColor" content="#f71735">
	<meta name="msapplication-TileImage" content="assets/favicon-144.png">
	<meta name="theme-color" content="#f71735">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;700&display=swap" rel="stylesheet">
	<link href="assets/main.css" rel="stylesheet">
</head>

<body>
	<h1>Movie Collection</h1>

	<div id="movies">
		<p v-if="errored">Movie data could not be retrieved. Try again later.</p>

		<div v-else>
			<div class="filters">

				<div class="movie-count">
					<h2><span>{{ movies.length}}</span> movies</h2>
				</div> <!-- /movie-count -->

				<button type="button" class="filter-btn">Filter</button>

				<div class="filter-panel">
					<button type="button" class="filter-close-btn">&times;</button>

					<div class="filter-field">
						<label for="sort">Sort by</label>
						<select id="sort" v-model="sort">
							<option value="recent">Recently Added</option>
							<option value="alpha">Alphabetical</option>
						</select>
					</div> <!-- /filter-field -->

					<div class="filter-field">
						<input type="search" placeholder="Search by movie title" id="search" v-model="search">
					</div> <!-- /filter-field -->

					<div class="filter-field">
						Format
					</div> <!-- /filter-field -->

					<div class="filter-field">
						<input type="radio" id="dvd" value="DVD" v-model="disc">
						<label for="dvd">DVD</label>
						<br>
						<input type="radio" id="bluray" value="Blu-Ray" v-model="disc">
						<label for="bluray">Blu-Ray</label>
						<br>
						<input type="radio" id="4kbluray" value="4K Blu-Ray" v-model="disc">
						<label for="4kbluray">4K Blu-Ray</label>
						<br>
						<input type="radio" id="all" value="" v-model="disc">
						<label for="all">all</label>
					</div>

					<div class="filter-field">
						Genre
					</div> <!-- /filter-field -->
					<div class="filter-field">
						Rating
					</div> <!-- /filter-field -->
					<div class="filter-field">
						Year
					</div> <!-- /filter-field -->
					<div class="filter-field">
						Quality
					</div> <!-- /filter-field -->
					<div class="filter-field">
						<button>Random Movie</button>
					</div> <!-- /filter-field -->
				</div> <!-- /filter-panel -->
			</div> <!-- /filters -->

			<div v-if="loading" class="loader"></div>

			<div class="movies" v-else :class="{ 'card-expanded': activeItem != null }">
				<div v-for="(movie, index) in movies" :key="index" :class="{ active: index === activeItem }" class="movie-card" tabindex="0" :title="movie.gsx$movietitle.$t" @click="selectItem(index)" v-on:keyup.enter="selectItem(index)">
					<img :src="movie.gsx$image.$t" :alt="movie.gsx$movietitle.$t" class="movie-card-img">
					<div class="movie-card-overlay">
						<div class="movie-card-content">
							<span class="movie-card-title">{{ movie.gsx$movietitle.$t }}</span>
							<span class="movie-card-rating">{{ movie.gsx$rating.$t }}</span>
							<span class="movie-card-year">{{ movie.gsx$year.$t }}</span>
							<dl class="movie-card-watch">
								<dt v-if="movie.gsx$vudu.$t">Vudu</dt>
								<dd v-if="movie.gsx$vudu.$t === 'SD'">SD</dd>
								<dd v-else-if="movie.gsx$vudu.$t === 'HDX'">HD</dd>
								<dd v-else-if="movie.gsx$vudu.$t === 'UHD'">4K</dd>

								<dt v-if="movie.gsx$googleplay.$t">Google Play</dt>
								<dd v-if="movie.gsx$googleplay.$t === 'SD'">SD</dd>
								<dd v-else-if="movie.gsx$googleplay.$t === 'HDX'">HD</dd>
								<dd v-else-if="movie.gsx$googleplay.$t === 'UHD'">4K</dd>

								<dt v-if="movie.gsx$disc.$t">Disc</dt>
								<dd v-if="movie.gsx$disc.$t">{{ movie.gsx$disc.$t }}</dd>
							</dl>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://unpkg.com/vue"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js"></script>
	<script src="assets/main.js"></script>
</body>
</html>
firebase.initializeApp({apiKey:"AIzaSyDzKCN-wjRWLk7ojLlvqgWxi6jfC9e99Wc",authDomain:"movies-4348d.firebaseapp.com",projectId:"movies-4348d"});var db=firebase.firestore(),moviesRef=db.collection("movies"),addMovie=new Vue({el:"#add-movie",data:()=>({user:{email:null,password:null,authenticated:!1,errorMsg:!1},movie:{title:"",year:"",imageUrl:"",vuduUrl:"",genre:[],genreValid:!1,rating:"",vuduQuality:"",gpQuality:"",maQuality:"",discFormat:"",notes:""},result:"",resultMessage:""}),mounted(){var vm=this;firebase.auth().onAuthStateChanged((function(user){vm.user.authenticated=!!user}))},methods:{signIn(){var vm=this;firebase.auth().signInWithEmailAndPassword(vm.user.email,vm.user.password).catch((function(error){vm.user.errorMsg=!0}))},updateImage(){var vm=this;if(vm.movie.vuduUrl&&!vm.movie.imageUrl){var movieId=vm.movie.vuduUrl.substring(vm.movie.vuduUrl.lastIndexOf("/")+1);vm.movie.imageUrl="https://images2.vudu.com/poster2/"+movieId+"-360"}},addMovie(){var vm=this;vm.movie.genre<1?this.$refs.genreLabel.scrollIntoView():(moviesRef.add({title:vm.movie.title,year:vm.movie.year,image:vm.movie.imageUrl,vudu:vm.movie.vuduQuality,googlePlay:vm.movie.gpQuality,moviesAnywhere:vm.movie.maQuality,disc:vm.movie.discFormat,genre:vm.movie.genre,rating:vm.movie.rating,dateAcquired:firebase.firestore.Timestamp.fromDate(new Date),notes:vm.movie.notes}).then((function(docRef){vm.result="success",vm.resultMessage=vm.movie.title+" successfully added!",vm.resetForm()})).catch((function(error){vm.result="error",vm.resultMessage="Error: "+error})),window.scrollTo(0,0),vm.sendNotification())},resetForm(){var vm=this;vm.movie.title="",vm.movie.year="",vm.movie.imageUrl="",vm.movie.vuduUrl="",vm.movie.genre=[],vm.movie.rating="",vm.movie.vuduQuality="",vm.movie.gpQuality="",vm.movie.maQuality="",vm.movie.discFormat="",vm.movie.notes=""},sendNotification(){}}});